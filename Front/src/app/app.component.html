<nav class="navbar navbar-expand-sm bg-red-orange fixed-top" >
  <div class="container-fluid">
    <button class="btn btn-outline-light me-1" data-bs-toggle="offcanvas"
       href="#sideBar"
       aria-controls="sideBar">
      <span class="bi bi-list"></span>
    </button>

    <a class="navbar-brand text-white mx-2" href="#" >COMOloHAGO</a>

    <span class="navbar-toggler p-0">
      <button class="btn btn-outline-light" data-bs-toggle="collapse"
              data-bs-target="#navbarSearchContent" aria-controls="navbarSearchContent "
              aria-expanded="false" aria-label="Toggle navigation">
      <span class="bi bi-search"></span>
    </button>
<!--    <button class="btn btn-outline-light" data-bs-toggle="collapse"-->
<!--            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"-->
<!--            aria-expanded="false" aria-label="Toggle navigation">-->
<!--      <span class="bi bi-person"></span>-->
<!--    </button>-->
    </span>

    <div class="justify-content-end order-sm-last" id="navbarSupportedContent">
      <button class="btn btn-primary text-nowrap me-1" routerLink="login" *ngIf="!service.user">
        <i class="bi bi-person-circle"> Iniciar Secion</i>
      </button>

      <div class="d-flex gap-1 justify-content-end">
        <button class="btn btn-primary text-nowrap me-1" routerLink="cart" *ngIf="service.user?.canBuy">
          <i class="bi bi-cart"></i>
        </button>
        <div class="dropdown" *ngIf="service.user">
          <button class="btn btn-primary text-nowrap me-1 dropdown-toggle" type="button" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle"></i>
            <span class="px-1 d-none d-sm-inline-block">{{ service.user.username }}</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="#" routerLink="login">Cambiar cuenta</a></li>
            <li><a class="dropdown-item" href="#" routerLink="edit">Editar cuenta</a></li>
            <li><a class="dropdown-item" href="#" routerLink="login" (click)="salir()">Salir</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="collapse navbar-collapse mt-1 mt-sm-0 " id="navbarSearchContent">
      <form class="d-flex me-1 input-group border border-1 border-white rounded-2">
        <input class="form-control form-orange" type="search" placeholder="Buscar obra"
               [value]="searchBarVal" id="searchBar" #searchBar>
        <button class="btn btn-primary bi bi-search" type="submit" form="searchForm"
                (click)="search(searchBar.value)"></button>
      </form>
    </div>

  </div>
</nav>


<div class="offcanvas offcanvas-start bg-red-orange text-white p-2 px-3" id="sideBar">
  <div class="d-flex justify-content-start align-content-center">
    <button class="btn btn-outline-light" data-bs-dismiss="offcanvas" aria-label="Close">
      <span class="bi bi bi-list"></span>
<!--      <span class="navbar-toggler-icon"></span>-->
    </button>
    <a class="fs-5 my-auto btn btn-primary text-start mx-2"  href="#">COMOloHAGO</a>
  </div>
  <div class="offcanvas-body row-gap-1 d-flex flex-column" >
    <a class="btn btn-primary text-start bi bi-globe"
       data-bs-dismiss="offcanvas" routerLink="explore"    > Explorar</a>
    <a class="btn btn-primary text-start bi bi-plus-square"
       data-bs-dismiss="offcanvas" routerLink="publicate"  > Nueva obra</a>
    <a class="btn btn-primary text-start bi bi-palette"
       data-bs-dismiss="offcanvas" routerLink="mypubs"     > Mis obras</a>
    <a class="btn btn-primary text-start bi bi-cart-check"
       data-bs-dismiss="offcanvas" routerLink="purchases"  > Compras</a>
    <a class="btn btn-primary text-start bi bi-coin"
       data-bs-dismiss="offcanvas" routerLink="sells"      > Ventas</a>
    <a class="btn btn-primary text-start bi bi-truck"
       data-bs-dismiss="offcanvas" routerLink="deliveries" > Entregas</a>

    <hr>
    <a class="btn btn-primary text-start bi bi-person-lines-fill"
       data-bs-dismiss="offcanvas" routerLink="users"      > Listar Usuarios</a>
    <a class="btn btn-primary text-start bi bi-bar-chart"
       data-bs-dismiss="offcanvas" routerLink="stats/users"> Estadisticas de usuarios</a>
    <a class="btn btn-primary text-start bi bi-bar-chart"
       data-bs-dismiss="offcanvas" routerLink="stats/pubs" > Estadisticas de publicaciones</a>
    <a class="btn btn-primary text-start bi bi-bar-chart"
       data-bs-dismiss="offcanvas" routerLink="stats/sells"> Estadisticas de ventas</a>
  </div>
</div>

<div class="main-side" >
  <router-outlet></router-outlet>
</div>

<footer class="p-5 bg-black text-white d-flex justify-content-center">
  <div class="col-md-4 col-sm-3">
    Julian Magnabosco 2024.
  </div>
  <div class="col-md-4 col-sm-3">
    Más:
    <div>
      <a routerLink="termcond" class="text-warning ">Términos y condiciones</a>
    </div>
    <div>
      <a routerLink="pregfrec" class="text-warning ">Preguntas Frecuentes</a>
    </div>
  </div>
  <div class="col-md-4 col-sm-3">
    Contactos:
    <div>
      julian.magnabosco&commat;gmail.com
    </div>
    <div class="fs-3 ">
      <a class="text-warning bi bi-twitter-x" href="https://x.com/home"></a>
      /
      <a class="text-warning bi bi-github" href="https://github.com/114211-Magnabosco-Julian"></a>
    </div>
  </div>
</footer>
