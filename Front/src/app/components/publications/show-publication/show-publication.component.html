
<div class="container mt-4">
  <div class=" mt-4 p-3 bg-light rounded-5 border border-warning-subtle border-5 d-flex justify-content-between"
  *ngIf="userService.user?.id==publication.userId.toString()">
    <span class="fs-5 align-content-center">Editar:</span>
    <span>
      <button class="btn btn-warning me-1">MODIFICAR</button>
      <button class="btn btn-danger" (click)="delete()">ELIMINAR</button>
    </span>
  </div>

  <div class=" mt-4 p-3 bg-light rounded-5 border border-warning-subtle border-5">
      <div class="row mb-3">
        <div class="col-sm-6">
          <h2 class="mb-2">
            {{publication.name}}
          </h2>
          <div class="d-flex align-items-center gap-1 mb-2">
            <div class="col-auto rounded-3 bg-warning px-1">
              {{publication.type}}
            </div>
            <div class="col-auto rounded-3 bg-danger px-1">
              {{publication.difficulty}}
            </div>
          </div>
          <div class="mb-2 p-1 me-1 btn" (click)="goUser()">
            <img [src]="publication.userIconUrl" *ngIf="publication.userIconUrl!=''"
                 style="width: 50px; height: 50px;" class="rounded-circle">
            <span>{{publication.username}}</span>
          </div>
          <div class="mb-2 p-1 me-1 rounded-2 bg-body-secondary">
            {{publication.description }}
          </div>

        </div>
        <div class="col-sm-6">
          <div id="carouselExample" class="carousel slide border border-5 border-warning-subtle rounded-2 p-1">
            <div class="carousel-inner">
              <div class="carousel-item " *ngFor="let p of photos; index as i" [class.active]="i==0">
                <img [src]="p.imageUrl || 'assets/camera.png'" class="d-block w-100">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev"
                    *ngIf="photos.length>1">
              <span class="bi-caret-left-fill text-black fs-1" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next"
                    *ngIf="photos.length>1">
              <span class="bi-caret-right-fill text-black fs-1" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>

          <div class="border border-5 border-warning-subtle rounded-2 bg-secondary-subtle p-1 text-center">
            <div class="">
              <button class="bi bi-star-fill text-secondary btn fs-3" *ngFor="let b of [0,1,2,3,4]"
                      (click)="calificate(b+1)"
                      [class.text-warning]="publication.myCalification>b"></button>
            </div>
            <span>Promedio: </span>
            <i class="bi bi-star-fill text-secondary"  *ngFor="let b of [0,1,2,3,4]"
               [class.text-warning]="publication.calification>b"></i>
          </div>
        </div>
      </div>


      <div class="p-2 rounded-3 border border-warning-subtle border-5 mb-3" *ngIf="conditions.length>0">
        <h5 class="text-uppercase">Condiciones</h5>
        <div class="">
          <div *ngFor="let d of conditions; index as i" class="d-flex mb-1">

            <div class="col-auto me-1 rounded-circle bg-danger text-center text-white
            fs-4 rounded-2 align-content-center" style="width: 25px; height: 25px">!</div>
            <div class="col rounded-2 bg-body-secondary p-1 text-break">{{ d.text }}</div>
<!--            <div class="rounded-2 bg-body-secondary p-1">asdasdaaaaaaaaaaaaaaaaaaaaaaaaaaa-->
<!--              aaaaaaaaaaaaaaaaaaaaaaaaaaaaasdasdads</div>-->
          </div>

        </div>
      </div>
      <div class="p-2 rounded-3 border border-warning-subtle border-5 mb-3"  *ngIf="materials.length>0">
        <h5 class="text-uppercase">Materiales</h5>
        <div class="">
          <div *ngFor="let d of materials; index as i" class="d-flex mb-1">

            <div class="col-auto me-1 rounded-circle bg-danger text-center text-white
            fs-4 rounded-2 align-content-center" style="width: 25px; height: 25px">{{ i + 1 }}</div>
            <div class="rounded-2 bg-body-secondary p-1">{{ d.text }}</div>
          </div>

        </div>
      </div>
      <div class="p-2 rounded-3 border border-warning-subtle border-5 mb-3"  *ngIf="steps.length>0">
        <h5 class="text-uppercase">Pasos</h5>
        <div class="">
          <div *ngFor="let d of steps; index as i" class="d-flex mb-1">
            <div class="col-auto me-1 rounded bg-danger text-center text-white
            fs-4 rounded-2 align-content-center" style="width: 25px; height: 25px">{{ i + 1 }}</div>
            <div class="w-100 list-group">
              <div class="list-group-item bg-body-secondary p-1 border
              border-5 border-warning-subtle">{{ d.text }}</div>
              <img [src]="d.imageUrl" alt="step" class="w-100 border border-5 border-danger list-group-item
              rounded-bottom-1 border-top-0" *ngIf="d.imageUrl">
            </div>
          </div>

        </div>
      </div>

  </div>
</div>
